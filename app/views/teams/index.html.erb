<div class="container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8">
  <div class="mb-8 sm:mb-12 animate-[fadeInUp_0.6s_ease-out]">
    <h1 class="text-4xl sm:text-5xl lg:text-6xl font-black text-white mb-3 tracking-tight">LeagueRoster Pedia</h1>
    <p class="text-gray-400 text-base sm:text-lg">Professional League of Legends Teams & Rosters</p>
  </div>

  <% if @teams_by_region.empty? %>
    <div class="bg-navy-800 border border-lol-gold/20 rounded-lg p-8 sm:p-12 text-center animate-[fadeIn_0.5s_ease-in-out]">
      <div class="text-6xl sm:text-7xl mb-6 opacity-50">ğŸ†</div>
      <p class="text-lg sm:text-xl text-gray-300 mb-3 font-semibold">No teams data available yet</p>
      <p class="text-sm sm:text-base text-gray-500 max-w-md mx-auto">
        Sync team data using the rake task:<br>
        <code class="bg-navy-900 text-lol-gold px-2 py-1 rounded mt-2 inline-block text-xs sm:text-sm">bin/rails sync_details:run[T1]</code>
      </p>
    </div>
  <% else %>
    <% @teams_by_region.each_with_index do |(region, teams), region_index| %>
      <div class="mb-12 animate-[fadeInUp_0.6s_ease-out] opacity-0" style="animation-delay: <%= region_index * 0.1 %>s; animation-fill-mode: forwards;">
        <h2 class="text-2xl sm:text-3xl font-bold text-white mb-4 sm:mb-6 pb-3 border-b-2 border-lol-gold/30">
          <%= region %>
          <span class="text-sm sm:text-base font-normal text-gray-500 ml-2 sm:ml-3">(<%= teams.count %> teams)</span>
        </h2>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6">
          <% teams.each_with_index do |team, index| %>
            <%= link_to team_path(team), class: "block group opacity-0 animate-[scaleIn_0.3s_ease-out] hover:scale-[1.02] transition-transform", style: "animation-delay: #{(region_index * 0.1) + (index * 0.05)}s; animation-fill-mode: forwards;" do %>
              <div class="bg-navy-700 rounded-lg border border-navy-600 p-4 sm:p-6 transition-all duration-200 hover:border-lol-gold hover:shadow-glow">
                <div class="flex items-start space-x-3 sm:space-x-4">
                  <% if team.logo_url.present? %>
                    <div class="flex-shrink-0 w-14 h-14 sm:w-16 sm:h-16 bg-navy-800 rounded-lg flex items-center justify-center overflow-hidden border border-navy-600 group-hover:border-lol-gold/50 transition-colors duration-200">
                      <img src="https://lol.fandom.com/wiki/Special:Redirect/file/<%= team.logo_url %>"
                           alt="<%= team.name %>"
                           class="w-full h-full object-contain"
                           loading="lazy"
                           onerror="this.parentElement.innerHTML='<div class=\'text-2xl\'>ğŸ†</div>'">
                    </div>
                  <% else %>
                    <div class="flex-shrink-0 w-14 h-14 sm:w-16 sm:h-16 bg-navy-800 rounded-lg flex items-center justify-center text-2xl border border-navy-600 group-hover:border-lol-gold/50 transition-colors duration-200">
                      ğŸ†
                    </div>
                  <% end %>

                  <div class="flex-1 min-w-0">
                    <h3 class="text-base sm:text-lg font-bold text-white truncate group-hover:text-lol-gold transition-colors duration-200">
                      <%= team.short_name.presence || team.name %>
                    </h3>
                    <p class="text-xs sm:text-sm text-gray-400 truncate"><%= team.name %></p>
                    <div class="mt-1.5 sm:mt-2 flex items-center text-xs sm:text-sm text-gray-500">
                      <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"/>
                      </svg>
                      <%= pluralize(team.players.where(is_current: true).count, 'player') %>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>
          <% end %>
        </div>
      </div>
    <% end %>
  <% end %>
</div>
